from pyVim.connect import SmartConnectNoSSL
from decouple import config 
import os


def connect(host=config('esxi_host'),user=config('esxi_user'),password=config('esxi_pass')) :
  """
  Simple program for connecting to the esxi host.
  """

  service_instance = SmartConnectNoSSL(host=host, user =user, pwd=password)

  if not service_instance :
    raise SystemExit("Unable to connect to host with supplied credentials.")

  return service_instance